<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="star_title">恒星生命周期 - 星云到超新星的沉浸式演化</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="importmap">
        {
            "imports": {
                "three": "../libs/three/build/three.module.js",
                "three/addons/": "../libs/three/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <a href="../index.html" class="back-to-home" data-i18n="back_to_home">← 返回目录</a>
    <canvas id="scene-canvas" aria-hidden="true"></canvas>

    <div class="ui-layer">
        <div class="sidebar-toggle"></div>
        <div class="ui-column">
            <header class="panel hero">
                <div class="lang-switcher">
                    <button class="lang-btn" onclick="window.i18n.setLanguage('zh')" data-lang="zh">中文</button>
                    <button class="lang-btn" onclick="window.i18n.setLanguage('en')" data-lang="en">EN</button>
                    <button class="lang-btn" onclick="window.i18n.setLanguage('de')" data-lang="de">DE</button>
                </div>
                <p class="eyebrow" data-i18n="star_eyebrow">Stellar Evolution</p>
                <h1 data-i18n="star_title">恒星生命周期</h1>
                <p class="intro" data-i18n="star_intro">
                    通过同一 Three.js 场景，观察恒星从星云坍缩、点燃核聚变，到红巨星膨胀、爆发超新星并留下中子星残骸的过程。
                </p>
            </header>

            <section class="panel stage-info">
                <div class="info-header">
                    <h2 id="stage-title">阶段名称</h2>
                    <span id="stage-temp" class="tag">温度</span>
                </div>
                <p id="stage-description">描述...</p>
                <ul id="stage-facts" class="facts-list">
                    <li>等待加载数据...</li>
                </ul>
            </section>
        </div>
    </div>

    <div class="control-dock" id="control-dock">
        <button id="toggle-dock" class="dock-toggle" aria-label="Toggle Menu">↓</button>
        <section class="panel stage-controls">
            <div class="controls-header">
                <h3 data-i18n="star_ctrl_timeline">演化节点</h3>
                <button id="btn-play" class="ghost" data-i18n="btn_play">自动演化</button>
            </div>
            <div class="timeline" id="timeline">
                <button class="stage-chip active" data-stage="0" data-i18n="star_ctrl_nebula">星云坍缩</button>
                <button class="stage-chip" data-stage="1" data-i18n="star_ctrl_protostar">原恒星</button>
                <button class="stage-chip" data-stage="2" data-i18n="star_ctrl_mainseq">主序星</button>
                <button class="stage-chip" data-stage="3" data-i18n="star_ctrl_redgiant">红巨星</button>
                <button class="stage-chip" data-stage="4" data-i18n="star_ctrl_supernova">超新星</button>
                <button class="stage-chip" data-stage="5" data-i18n="star_ctrl_neutron">中子星</button>
            </div>
            <div class="control-row">
                <button id="btn-prev" data-i18n="btn_prev">上一阶段</button>
                <button id="btn-next" data-i18n="btn_next">下一阶段</button>
            </div>
        </section>
    </div>

    <script src="../assets/js/i18n.js?v=20241126_4"></script>
    <script type="module" src="js/main.js?v=20241126_fix"></script>
</body>
</html>
